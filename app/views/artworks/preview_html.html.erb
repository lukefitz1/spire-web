<% content_for :title, "HTML Preview" %>

<script>
	if (document.title = "HTML Preview") {
		document.getElementById("nav").style.display = 'none'; 
	}
</script>

<div class="preview-container black">
	<div class="banner">
		<div class="top avenirnext twelve">
			<div class="left avenirnextbold">Collection Object ID <%= @artwork.ojbId %></div>
			<div class="middle">Catalog Sheet</div>
			<div class="right date-examined">Examined: <%= @artwork.reviewedBy %></div>
		</div>
	</div>

	<header>
		<div class="main">
			<div class="title">
				<p class="avenirnext collection-title" id="coll-title"><span class="avenirnextbold"><%= @artwork.collection.identifier %></span> <span class="avenirnextultralight"><%= @artwork.collection.collectionName %></span></p>
			</div>
			<div class="logo">
				<%= image_tag 'spire-logo.png', class: 'logo-img'%>
			</div>
		</div>
		<div class="bottom">
			<div class="subheading avenirnext">Collection Inventory <span class="year"><%= @artwork.collection.year %></span> | Prepared by Spire Art Services</div>
		</div>
	</header> 

	<div>
      	<div class="column-left bg-gray avenirnextlocal">
	        <div class="label-block">
	          <span class="avenirnextbold">Type:</span><p class="value"> <%= @artwork.artType %></p>
	        </div>
	        <div class="label-block">
	          <span class="avenirnextbold">Artist:</span>
	          <p class="value"> 
	          	<% if @artwork.artist %>
                <% if @artwork.artist.firstName != '' && @artwork.artist.lastName != ''%>
                  <%= @artwork.artist.lastName %>, <%= @artwork.artist.firstName %>
                <% elsif @artwork.artist.firstName != '' && @artwork.artist.lastName == '' %>
                  <%= @artwork.artist.firstName %>
                <% else %>
                  <%= @artwork.artist.lastName %>	
                <% end %>

                <% if @artwork.artist.additionalInfo %>
                  <% if @artwork.artist.additionalInfo != "" %>
                    (<%= @artwork.artist.additionalInfo %>)
                  <% end %>
                <% end %>
              <% end %>
	          </p>
	        </div>

	        <% if @artwork.title == 'Untitled' %>
		        <div class="label-block">
		          <span class="avenirnextbold">Title:</span>
	          	  <p class="value"> <%= @artwork.title %></p><% if @artwork.date && @artwork.date != "" %>, <%= @artwork.date %><% end %>
		        </div>
	        <% else %>
		        <div class="label-block">
		          <span class="avenirnextbold">Title:</span>
		          <p class="value italics"> <%= @artwork.title %></p><% if @artwork.date && @artwork.date != ""%>, <%= @artwork.date %><% end %>
		        </div>
	        <% end %>

	        <div class="label-block">
	          <span class="avenirnextbold">Medium:</span><p class="value"> <%= @artwork.medium %></p>
	        </div>
	        <div class="label-block">
	          <span class="avenirnextbold">Description:</span><p class="value"> <%= @artwork.description %></p>
	        </div>
	        <div class="label-block">  
	          <span class="avenirnextbold">Dimensions (HxWxD):</span><p class="value"> <%= @artwork.dimensions %></p>
	        </div>
	        <div class="label-block">
	          <span class="avenirnextbold">Dimensions Frame:</span><p class="value"> <%= @artwork.frame_dimensions %></p>
	        </div>
	        <div class="label-block">
	          <span class="avenirnextbold">Condition:</span><p class="value"> <%= @artwork.condition %></p>
	        </div>
	        <div class="label-block">
	          <span class="avenirnextbold">Current Location:</span><p class="value"> <%= @artwork.currentLocation %></p>
	        </div>
	        <div class="label-block">
	          <span class="avenirnextbold">Source:</span><p class="value"> <%= @artwork.source %></p>
	        </div>
	        <div class="label-block">
	          <% if @artwork.dateAcquiredLabel && @artwork.dateAcquiredLabel != "" %>
	            <span class="avenirnextbold"><%= @artwork.dateAcquiredLabel %>:</span><p class="value"> <%= @artwork.dateAcquired %></p>
	          <% elsif @artwork.dateAcquired && @artwork.dateAcquired != "" %>
	            <span class="avenirnextbold">Date Acquired:</span><p class="value"> <%= @artwork.dateAcquired %></p>
	          <% end %>        
	        </div><br />
	        <div class="label-block">
            <%# <svg width="432px" height="25px" viewBox="525 0 3250 250">
              <line x1="0" x2="4500" y1="100" y2="100" stroke="#4a6e98" stroke-width="40" stroke-linecap="round" stroke-dasharray="1, 80"></line>
            </svg> %>
            
	          <p class="label-heading avenirnextbold">Provenance:</p><p class="block-value"> <%= @artwork.provenance %></p>
	        </div>
	        <div class="label-block">
	          <% if @artwork.notesImage.thumb.url %>
	          	
				<div class="notes-images-block">
					<div class="notes-image-one padding-bottom-five">
						<!-- <img src="/Users/blueacorn/Sites/art-collector-web/test_images/signature.jpg" alt="logo"> -->
						<%= image_tag @artwork.notesImage%>
					</div>
					<% if @artwork.notesImage.thumb.url %>
						<div class="notes-image-two">
							<!-- <img src="/Users/blueacorn/Sites/art-collector-web/test_images/another_signature.jpg" alt="logo"> -->
							<%= image_tag @artwork.notesImageTwo %>
						</div>
						<!-- <div class="image-two">
							<img src="/Users/blueacorn/Sites/art-collector-web/test_images/document-image.jpg" alt="logo" class="image-two">
						</div> -->
					<% end %>
				</div>

	          <% end %>

	          <p class="label-heading avenirnextbold">Note:</p>
	          <p class="block-value"><%= @artwork.notes %></p>
	        </div>
		    <% if @artwork.additionalInfoText && @artwork.additionalInfoText != ""%>
		        <div class="label-block">
		          <% if @artwork.additionalInfoImage.thumb.url %>

		          	<div class="add-info-images-block">
						<div class="add-info-image-one">
							<%= image_tag @artwork.additionalInfoImage, class: 'info-image' %>
						</div>

						<% if @artwork.additionalInfoImageTwo.thumb.url %>
							<div class="add-info-image-two">
								<%= image_tag @artwork.additionalInfoImageTwo, class: 'info-image' %>
							</div>
						<% end %>

					</div>

		          <% end %>

		          <p class="label-heading avenirnextbold"><%= @artwork.additionalInfoLabel %>:</p>
		          <p class="block-value"> <%= @artwork.additionalInfoText %></p>
		        </div>
		    <% end %>
    	</div>

    	<div class="column-right">
			<div class="big-img">
				<%= image_tag @artwork.image %>
			</div>
			<div class="bio">
				<% if @artwork.show_general_info %>
					<h3 class="bold"><%= @artwork.general_information.information_label %></h3>
					<p class="text-justify avenirnext" id="artist-bio"><%= @artwork.general_information.information %></p>
				<% else %>
          <% if @artwork.artist %>
            <h3 class="bold">Artist&#39s Biography</h3>
            <p class="text-justify avenirnext" id="artist-bio"><%= @artwork.artist.biography %></p>
          <% end %>
				<% end %>
			</div>
		</div>

  	</div>

</div>
    
<script>
  // self executing function here
  (function() {
    bio = document.getElementById('artist-bio');
    if (bio.textContent.length < 1325) {
    	bio.style.fontSize = '16px';
    } else {
    	bio.style.fontSize = '15px';
    }
  })();

  // self executing function here
  (function() {
    title = document.getElementById('coll-title');
    if (title.textContent.length < 30) {
    	title.style.fontSize = '32px';
    } else {
    	title.style.fontSize = '28px';
    }
  })();
</script>